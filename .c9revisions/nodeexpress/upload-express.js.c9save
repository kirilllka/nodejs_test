{"ts":1344895882769,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// *******************************************************\n// expressjs template\n//\n// assumes: npm install express\n// defaults to jade engine, install others as needed\n//\n// assumes these subfolders:\n//   public/\n//   public/js/\n//   public/css/\n//   public/assets\n//   views/\n//\nvar express = require('express');\nvar app = express();\nvar viewEngine = 'jade'; // modify for your view engine\n// Configuration\napp.configure(function(){\n  app.set('views', __dirname + '/views');\n  app.set('view engine', viewEngine);\n  app.use(express.bodyParser({uploadDir:'/uploads'}));\n  app.use(express.methodOverride());\n  app.use(app.router);\n  app.use(express.static(__dirname + '/public'));\n});\n\napp.configure('development', function(){\n  app.use(express.errorHandler({ dumpExceptions: true, showStack: true }));\n});\napp.configure('production', function(){\n  app.use(express.errorHandler());\n});\n// *******************************************************\n\n\n\n/*\napp.post('/file-upload', function(req, res, next) {\n    console.log(req.body);\n    console.log(req.files);\n});\n*/\napp.post('/file-upload', function(req, res, next) {\n    req.form.complete(function(err, fields, files) {\n    if (err) { next(err); }\n    else {\n            console.log(fields);\n            console.log('---------------');\n            console.log(files);\n            res.redirect(req.url);\n        }\n    });\n});\n\n\nvar port = process.env.PORT;\nconsole.log(\"Listening port: \" + port); \napp.listen(port);\n\n"]],"start1":0,"start2":0,"length1":0,"length2":1465}]],"length":1465}
